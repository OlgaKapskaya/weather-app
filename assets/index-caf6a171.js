import{m as k,Q as x,j as n,F as v,f as e,T as d,V as f,S as j,r as h,n as Y,I as O,o as V,p as q,q as G,s as _,t as W,D as A,v as J,w as K,x as Q,M as U,y as E,z as X,d as H,E as Z,G as ee,J as te,K as ne,L as R,H as z,N as se,O as ae,R as re,P as M,U as ce,X as oe,Y as ie,Z as le,_ as de,$ as he,a0 as ue,a1 as me,a2 as pe,a3 as fe}from"./vendor-8beb7045.js";import{u as C,a as r,b as Se,s as ye,c as D,t as ge,d as Ce,e as we,f as Te,w as ve,g as I,h as y,i as _e,j as Ie,k as xe,x as g,m as He,l as Me,n as Ne,o as be,p as ke,q as Ae,r as Ee,v as Re,O as B,P,y as $,z as ze,A as De,B as Be,C as Pe,D as $e,E as Fe,F as Le}from"./common-cf98445f.js";const je=()=>{const t=C(),s=r(Se),{colorMode:a}=k();return{message:s,notify:()=>{x.info(s,{position:x.POSITION.TOP_CENTER,theme:a}),t(ye(null))}}},Ye="_infoContainer_1ffrp_1",Oe="_tempContainer_1ffrp_2",Ve="_currentTemp_1ffrp_8",T={infoContainer:Ye,tempContainer:Oe,currentTemp:Ve},qe=()=>{const t=r(D),s=r(ge),a=r(Ce),c=r(we),i=r(Te),o=r(ve),l=r(I);return n(v,{children:[n("div",{className:T.infoContainer,children:[e(d,{fontSize:"5xl",children:t}),n(f,{align:"end",children:[n(d,{fontSize:"lg",marginTop:"0",children:[a," "]}),n(d,{fontSize:"lg",marginTop:"0",children:[s," "]})]})]}),e("div",{className:T.tempContainer,children:e("div",{className:T.currentTemp,children:n(j,{isLoaded:l!=="loading",children:[n(d,{fontSize:"7xl",children:[y(c)," 째C"]}),n(d,{fontSize:"lg",children:["Real feel: ",y(i)," 째C"]}),e(d,{fontSize:"md",children:o[0]&&o[0].description})]})})})]})},Ge=(t,s)=>{const[a,c]=h.useState(t);return h.useEffect(()=>{const i=setTimeout(()=>c(t),s||500);return()=>{clearTimeout(i)}},[t,s]),a},We="_searchButton_11vfy_1",Je="_container_11vfy_7",N={searchButton:We,container:Je},Ke=h.memo(({label:t,searchValue:s,onChangeText:a,disabled:c,placeholder:i,options:o,onClickOption:l})=>{const[m,p]=h.useState(s),S=Ge(m,500),w=u=>{p(u.currentTarget.value)},F=u=>{l==null||l(u),p("")};return h.useEffect(()=>{m!==s&&p(s)},[s]),h.useEffect(()=>{a==null||a(S)},[S]),n(v,{children:[t&&e(Y,{children:t}),n(O,{children:[e(V,{onChange:w,value:m,disabled:c,placeholder:i}),e(q,{pointerEvents:"none",children:e(G,{color:"gray.300"})})]}),o&&(o==null?void 0:o.length)>0&&e(f,{className:N.container,children:o.map((u,L)=>e(_,{colorScheme:"blue",onClick:()=>F(u.name),className:N.searchButton,children:`${u.name}, ${u.countryCode}`},L))})]})}),Qe=t=>t.cities.searchCities,Ue=()=>{const t=r(Qe),a=r(I)==="loading",c=C();return e("div",{style:{position:"relative",width:"100%"},children:e(Ke,{searchValue:"",onChangeText:l=>{l.trim()!==""&&c(_e(l))},disabled:a,placeholder:"Enter city...",options:t,onClickOption:l=>{c(Ie(l)),c(xe({cities:[]}))}})})},Xe=()=>{const{colorMode:t,toggleColorMode:s}=k();return n("div",{className:g.header,children:[e(Ue,{}),e(W,{height:"40px",children:e(A,{orientation:"vertical"})}),e(J,{hasArrow:!0,label:"Change color mode",children:e(K,{"aria-label":"Set theme",variant:"outline",onClick:s,icon:t==="dark"?e(Q,{color:"gray.300"}):e(U,{color:"gray.500"})})})]})},Ze=()=>{const t=E(),s=r(He),a=r(Me),c=r(Ne),i=r(be),o=r(ke),l=r(Ae),m=r(Ee),p=r(Re),S=r(D),w=()=>{t(P.DETAILS+`/${S}`)};return n("div",{className:g.weatherContainer,children:[e(Xe,{}),n(X,{spacing:3,className:g.stack,children:[e(qe,{}),e(_,{onClick:w,children:" Show hourly forecast "}),e(A,{}),e(B,{sunset:i,sunrise:c,maxTemp:s,minTemp:a,pressure:o,visibility:p,windSpeed:m,humidity:l})]})]})},et="_container_8lm65_1",tt="_weather_8lm65_9",b={container:et,weather:tt},nt=({currentDate:t,currentTime:s,temp:a,icon:c,feels_like:i,description:o})=>n(v,{children:[n(f,{alignItems:"flex-start",children:[n(d,{as:"b",children:[" ",t," "]}),n(d,{as:"b",children:[" ",s]})]}),n(f,{className:b.container,children:[n("div",{className:b.weather,children:[e("img",{src:`https://openweathermap.org/img/w/${c}.png`,alt:"weather icon"}),n(d,{as:"b",fontSize:"2xl",children:[" ",y(a)," 째C"]})]}),n("div",{children:[" ",o," "]})]}),e(f,{width:"200px",children:n(d,{children:[" Real feel: ",y(i)," 째C"]})})]}),st=({item:t})=>{const s=H.unix(t.dt).format("HH:mm"),a=H.unix(t.dt).format("DD.MM.YYYY");return n(Z,{children:[n(ee,{children:[e(nt,{currentDate:a,currentTime:s,icon:t.weather[0].icon,description:t.weather[0].description,temp:t.main.temp,feels_like:t.main.feels_like}),e(te,{})]}),e(ne,{children:e(B,{maxTemp:t.main.temp_max,minTemp:t.main.temp_min,pressure:t.main.pressure,visibility:t.visibility,windSpeed:t.wind.speed,humidity:t.main.humidity})})]})},at=()=>{const{city:t}=R(),s=E(),a=()=>{s("/")};return n(z,{className:$.header,children:[n(d,{fontSize:"4xl",children:[" Hourly forecast: ",e(d,{as:"b",children:t})]}),e(_,{leftIcon:e(se,{}),onClick:a,children:" Back "})]})},rt=()=>{const{city:t}=R(),s=r(ze),a=C();return h.useEffect(()=>{t&&a(De(t))},[]),e("div",{className:g.weatherContainer,children:n(z,{spacing:3,className:$.stack,children:[e(at,{}),e(ae,{defaultIndex:[0],width:"100%",allowMultiple:!0,children:s.map((c,i)=>e(st,{item:c},i))})]})})},ct=()=>n(re,{children:[e(M,{index:!0,path:"/",element:e(Ze,{})}),e(M,{path:P.DETAILS+"/:city",element:e(rt,{})})]});function ot(){const t=C(),s=r(I),{message:a,notify:c}=je();return a&&c(),h.useEffect(()=>{t(Be()),t(Pe())},[]),n("div",{className:"App",children:[s==="loading"&&e(ce,{size:"xs",isIndeterminate:!0}),e(ct,{}),e(oe,{autoClose:3e3})]})}const it=ie({reducer:{app:$e,weather:Fe,cities:Le},middleware:[...le({serializableCheck:!1})]}),lt={initialColorMode:"system",useSystemColorMode:!0},dt=de({config:lt});he.createRoot(document.getElementById("root")).render(e(ue,{store:it,children:n(me,{children:[e(pe,{initialColorMode:dt.config.initialColorMode}),e(fe,{children:e(ot,{})})]})}));

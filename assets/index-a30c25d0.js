import{j as n,F as _,f as e,T as l,V as m,r as d,m as M,n as H,I as z,o as D,p as P,S as L,q as $,s as B,D as I,t as F,v as j,w as Y,M as U,x as k,y as V,z as N,E as q,d as T,G as O,J as W,K as G,L as J,N as K,H as Q,O as X,P as Z,R as ee,Q as y,U as te,X as ne,Y as re,Z as se,_ as ae,$ as ce,a0 as oe,a1 as ie,a2 as le}from"./vendor-facb715a.js";import{u as s,c as b,t as de,d as ue,a as he,f as me,w as pe,b as p,e as fe,g as S,h as Se,x as f,m as ge,i as Ce,s as ye,j as we,p as Te,k as ve,l as _e,v as Ie,n as ke,O as R,P as u,o as Ne,q as be,r as Re,y as xe,z as Ae,A as Ee,B as Me}from"./common-fdefc7f6.js";const He="_infoContainer_1ffrp_1",ze="_tempContainer_1ffrp_2",De="_currentTemp_1ffrp_8",w={infoContainer:He,tempContainer:ze,currentTemp:De},Pe=()=>{const t=s(b),r=s(de),a=s(ue),o=s(he),c=s(me),i=s(pe);return n(_,{children:[n("div",{className:w.infoContainer,children:[e(l,{fontSize:"5xl",children:t}),n(m,{align:"end",children:[n(l,{fontSize:"lg",marginTop:"0",children:[a," "]}),n(l,{fontSize:"lg",marginTop:"0",children:[r," "]})]})]}),e("div",{className:w.tempContainer,children:n("div",{className:w.currentTemp,children:[n(l,{fontSize:"7xl",children:[p(o)," 째C"]}),n(l,{fontSize:"lg",children:["Real feel: ",p(c)," 째C"]}),e(l,{fontSize:"md",children:i[0]&&i[0].description})]})})]})},Le=(t,r)=>{const[a,o]=d.useState(t);return d.useEffect(()=>{const c=setTimeout(()=>o(t),r||500);return()=>{clearTimeout(c)}},[t,r]),a},$e=d.memo(({label:t,searchValue:r,onChangeText:a,disabled:o})=>{const[c,i]=d.useState(r),h=Le(c,500),g=C=>{i(C.currentTarget.value)};return d.useEffect(()=>{c!==r&&i(r)},[r]),d.useEffect(()=>{a==null||a(h)},[h]),n(M,{children:[t&&e(H,{children:t}),n(z,{children:[e(D,{onChange:g,value:c,disabled:o}),e(P,{pointerEvents:"none",children:e(L,{color:"gray.300"})})]})]})}),Be=()=>{const r=s(fe)==="loading",a=S();return e($e,{searchValue:"",onChangeText:c=>{c.trim()!==""&&a(Se(c))},disabled:r,label:"Search city"})},Fe=()=>{const{colorMode:t,toggleColorMode:r}=$();return n("div",{className:f.header,children:[e(Be,{}),e(B,{height:"50px",children:e(I,{orientation:"vertical"})}),e(F,{hasArrow:!0,label:"Change color mode",children:e(j,{"aria-label":"Set theme",variant:"outline",onClick:r,icon:t==="dark"?e(Y,{color:"gray.300"}):e(U,{color:"gray.500"})})})]})},je=()=>{const t=S(),r=k(),a=s(ge),o=s(Ce),c=s(ye),i=s(we),h=s(Te),g=s(ve),C=s(_e),x=s(Ie),A=s(b);d.useEffect(()=>{t(ke())},[]);const E=()=>{r(u.DETAILS+`/${A}`)};return n("div",{className:f.weatherContainer,children:[e(Fe,{}),n(V,{spacing:3,className:f.stack,children:[e(Pe,{}),e(N,{onClick:E,children:" Show hourly forecast "}),e(I,{}),e(R,{sunset:i,sunrise:c,maxTemp:a,minTemp:o,pressure:h,visibility:x,windSpeed:C,humidity:g})]})]})},Ye="_container_1tpq1_1",Ue={container:Ye},Ve=()=>e("div",{className:Ue.container,children:e(q,{isIndeterminate:!0,color:"green.300"})}),qe="_stack_19ku4_1",Oe={stack:qe},We="_container_8lm65_1",Ge="_weather_8lm65_9",v={container:We,weather:Ge},Je=({currentDate:t,currentTime:r,temp:a,icon:o,feels_like:c,description:i})=>n(_,{children:[n(m,{alignItems:"flex-start",children:[n(l,{as:"b",children:[" ",t," "]}),n(l,{as:"b",children:[" ",r]})]}),n(m,{className:v.container,children:[n("div",{className:v.weather,children:[e("img",{src:`https://openweathermap.org/img/w/${o}.png`,alt:"weather icon"}),n(l,{as:"b",fontSize:"2xl",children:[" ",p(a)," 째C"]})]}),n("div",{children:[" ",i," "]})]}),e(m,{children:n(l,{children:[" Real feel: ",p(c)," 째C"]})})]}),Ke=({item:t})=>{const r=T.unix(t.dt).format("HH:mm"),a=T.unix(t.dt).format("DD.MM.YYYY");return n(O,{children:[n(W,{children:[e(Je,{currentDate:a,currentTime:r,icon:t.weather[0].icon,description:t.weather[0].description,temp:t.main.temp,feels_like:t.main.feels_like}),e(G,{})]}),e(J,{children:e(R,{maxTemp:t.main.temp_max,minTemp:t.main.temp_min,pressure:t.main.pressure,visibility:t.visibility,windSpeed:t.wind.speed,humidity:t.main.humidity})})]})},Qe=()=>{const{city:t}=K(),r=s(Ne),a=S(),o=k();d.useEffect(()=>{t&&a(be(t))},[]);const c=()=>{o("/")};return e("div",{className:f.weatherContainer,children:n(Q,{spacing:3,className:Oe.stack,children:[e(N,{leftIcon:e(X,{}),onClick:c,children:" Back "}),e(Z,{defaultIndex:[0],width:"100%",allowMultiple:!0,children:r.map(i=>e(Ke,{item:i}))})]})})},Xe=()=>{const t=s(Re);return n(ee,{children:[e(y,{path:"/",element:e(te,{to:u.CURRENT})}),e(y,{path:u.CURRENT,element:t?e(je,{}):e(Ve,{})}),e(y,{path:u.CURRENT+"/"+u.DETAILS+"/:city",element:e(Qe,{})})]})};function Ze(){const t=S();return d.useEffect(()=>{t(xe())},[]),e("div",{className:"App",children:e(Xe,{})})}const et=ne({reducer:{app:Ae,weather:Ee,cities:Me},middleware:[...re({serializableCheck:!1})]}),tt={initialColorMode:"system",useSystemColorMode:!0},nt=se({config:tt});ae.createRoot(document.getElementById("root")).render(e(ce,{store:et,children:e(oe,{children:n(ie,{children:[e(le,{initialColorMode:nt.config.initialColorMode}),e(Ze,{})]})})}));

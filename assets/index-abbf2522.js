import{j as n,F as k,f as e,T as l,V as m,S as E,r as d,m as H,n as D,I as z,o as P,p as L,q as F,s as B,t as $,D as I,v as j,w as Y,x as U,M as V,y as x,z as O,E as b,d as v,G as W,J as q,K as G,L as J,N as K,H as Q,O as X,P as Z,R as ee,Q as C,U as te,X as ne,Y as se,Z as ae,_ as re,$ as oe,a0 as ce,a1 as ie,a2 as le,a3 as de}from"./vendor-4197fc61.js";import{u as a,c as N,t as ue,d as he,a as me,f as pe,w as fe,b as w,e as p,g as T,h as Se,x as f,m as ge,i as Ce,s as ye,j as we,p as Te,k as ve,l as _e,v as ke,O as R,P as h,n as Ie,o as xe,q as be,r as Ne,y as Re,z as Ae,A as Me}from"./common-43df4379.js";const Ee="_infoContainer_1ffrp_1",He="_tempContainer_1ffrp_2",De="_currentTemp_1ffrp_8",y={infoContainer:Ee,tempContainer:He,currentTemp:De},ze=()=>{const t=a(N),s=a(ue),r=a(he),c=a(me),o=a(pe),i=a(fe),u=a(w);return n(k,{children:[n("div",{className:y.infoContainer,children:[e(l,{fontSize:"5xl",children:t}),n(m,{align:"end",children:[n(l,{fontSize:"lg",marginTop:"0",children:[r," "]}),n(l,{fontSize:"lg",marginTop:"0",children:[s," "]})]})]}),e("div",{className:y.tempContainer,children:e("div",{className:y.currentTemp,children:n(E,{isLoaded:u!=="loading",children:[n(l,{fontSize:"7xl",children:[p(c)," 째C"]}),n(l,{fontSize:"lg",children:["Real feel: ",p(o)," 째C"]}),e(l,{fontSize:"md",children:i[0]&&i[0].description})]})})})]})},Pe=(t,s)=>{const[r,c]=d.useState(t);return d.useEffect(()=>{const o=setTimeout(()=>c(t),s||500);return()=>{clearTimeout(o)}},[t,s]),r},Le=d.memo(({label:t,searchValue:s,onChangeText:r,disabled:c})=>{const[o,i]=d.useState(s),u=Pe(o,500),S=g=>{i(g.currentTarget.value)};return d.useEffect(()=>{o!==s&&i(s)},[s]),d.useEffect(()=>{r==null||r(u)},[u]),n(H,{children:[t&&e(D,{children:t}),n(z,{children:[e(P,{onChange:S,value:o,disabled:c}),e(L,{pointerEvents:"none",children:e(F,{color:"gray.300"})})]})]})}),Fe=()=>{const s=a(w)==="loading",r=T();return e(Le,{searchValue:"",onChangeText:o=>{o.trim()!==""&&r(Se(o))},disabled:s,label:"Search city"})},Be=()=>{const{colorMode:t,toggleColorMode:s}=B();return n("div",{className:f.header,children:[e(Fe,{}),e($,{height:"50px",children:e(I,{orientation:"vertical"})}),e(j,{hasArrow:!0,label:"Change color mode",children:e(Y,{"aria-label":"Set theme",variant:"outline",onClick:s,icon:t==="dark"?e(U,{color:"gray.300"}):e(V,{color:"gray.500"})})})]})},$e=()=>{const t=x(),s=a(ge),r=a(Ce),c=a(ye),o=a(we),i=a(Te),u=a(ve),S=a(_e),g=a(ke),A=a(N),M=()=>{t(h.DETAILS+`/${A}`)};return n("div",{className:f.weatherContainer,children:[e(Be,{}),n(O,{spacing:3,className:f.stack,children:[e(ze,{}),e(b,{onClick:M,children:" Show hourly forecast "}),e(I,{}),e(R,{sunset:o,sunrise:c,maxTemp:s,minTemp:r,pressure:i,visibility:g,windSpeed:S,humidity:u})]})]})},je="_stack_19ku4_1",Ye={stack:je},Ue="_container_8lm65_1",Ve="_weather_8lm65_9",_={container:Ue,weather:Ve},Oe=({currentDate:t,currentTime:s,temp:r,icon:c,feels_like:o,description:i})=>n(k,{children:[n(m,{alignItems:"flex-start",children:[n(l,{as:"b",children:[" ",t," "]}),n(l,{as:"b",children:[" ",s]})]}),n(m,{className:_.container,children:[n("div",{className:_.weather,children:[e("img",{src:`https://openweathermap.org/img/w/${c}.png`,alt:"weather icon"}),n(l,{as:"b",fontSize:"2xl",children:[" ",p(r)," 째C"]})]}),n("div",{children:[" ",i," "]})]}),e(m,{children:n(l,{children:[" Real feel: ",p(o)," 째C"]})})]}),We=({item:t})=>{const s=v.unix(t.dt).format("HH:mm"),r=v.unix(t.dt).format("DD.MM.YYYY");return n(W,{children:[n(q,{children:[e(Oe,{currentDate:r,currentTime:s,icon:t.weather[0].icon,description:t.weather[0].description,temp:t.main.temp,feels_like:t.main.feels_like}),e(G,{})]}),e(J,{children:e(R,{maxTemp:t.main.temp_max,minTemp:t.main.temp_min,pressure:t.main.pressure,visibility:t.visibility,windSpeed:t.wind.speed,humidity:t.main.humidity})})]})},qe=()=>{const{city:t}=K(),s=a(Ie),r=T(),c=x();d.useEffect(()=>{t&&r(xe(t))},[]);const o=()=>{c("/")};return e("div",{className:f.weatherContainer,children:n(Q,{spacing:3,className:Ye.stack,children:[e(b,{leftIcon:e(X,{}),onClick:o,children:" Back "}),e(Z,{defaultIndex:[0],width:"100%",allowMultiple:!0,children:s.map(i=>e(We,{item:i}))})]})})},Ge=()=>n(ee,{children:[e(C,{path:"/",element:e(te,{to:h.CURRENT})}),e(C,{path:h.CURRENT,element:e($e,{})}),e(C,{path:h.CURRENT+"/"+h.DETAILS+"/:city",element:e(qe,{})})]});function Je(){const t=T(),s=a(w);return d.useEffect(()=>{t(be()),t(Ne())},[]),n("div",{className:"App",children:[s==="loading"&&e(ne,{size:"xs",isIndeterminate:!0}),e(Ge,{})]})}const Ke=se({reducer:{app:Re,weather:Ae,cities:Me},middleware:[...ae({serializableCheck:!1})]}),Qe={initialColorMode:"system",useSystemColorMode:!0},Xe=re({config:Qe});oe.createRoot(document.getElementById("root")).render(e(ce,{store:Ke,children:e(ie,{children:n(le,{children:[e(de,{initialColorMode:Xe.config.initialColorMode}),e(Je,{})]})})}));

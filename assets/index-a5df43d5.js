import{m as M,Q as _,j as n,F as N,f as e,T as d,V as h,S as F,r as u,n as $,o as L,I as O,p as j,q as Y,s as V,t as w,v as q,D as b,w as G,x as W,y as J,M as K,z as H,E as Q,d as v,G as U,J as X,K as Z,L as ee,N as A,H as E,O as te,P as ne,R as se,U as I,X as oe,Y as ae,Z as re,_ as ce,$ as ie,a0 as le,a1 as de,a2 as ue,a3 as he,a4 as me}from"./vendor-903b4ec3.js";import{u as S,a,b as pe,s as fe,c as R,t as Se,d as Ce,e as ge,f as ye,w as we,g as T,h as p,i as Te,j as _e,k as ve,x as f,m as Ie,l as xe,n as ke,o as Me,p as Ne,q as be,r as He,v as Ae,O as z,P as D,y as B,z as Ee,A as Re,B as ze,C as De,D as Be,E as Pe,F as Fe}from"./common-77f23325.js";const $e=()=>{const t=S(),s=a(pe),{colorMode:o}=M();return{message:s,notify:()=>{_.info(s,{position:_.POSITION.TOP_CENTER,theme:o}),t(fe(null))}}},Le="_infoContainer_1ffrp_1",Oe="_tempContainer_1ffrp_2",je="_currentTemp_1ffrp_8",y={infoContainer:Le,tempContainer:Oe,currentTemp:je},Ye=()=>{const t=a(R),s=a(Se),o=a(Ce),r=a(ge),i=a(ye),l=a(we),c=a(T);return n(N,{children:[n("div",{className:y.infoContainer,children:[e(d,{fontSize:"5xl",children:t}),n(h,{align:"end",children:[n(d,{fontSize:"lg",marginTop:"0",children:[o," "]}),n(d,{fontSize:"lg",marginTop:"0",children:[s," "]})]})]}),e("div",{className:y.tempContainer,children:e("div",{className:y.currentTemp,children:n(F,{isLoaded:c!=="loading",children:[n(d,{fontSize:"7xl",children:[p(r)," 째C"]}),n(d,{fontSize:"lg",children:["Real feel: ",p(i)," 째C"]}),e(d,{fontSize:"md",children:l[0]&&l[0].description})]})})})]})},Ve=(t,s)=>{const[o,r]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>r(t),s||500);return()=>{clearTimeout(i)}},[t,s]),o},qe=u.memo(({label:t,searchValue:s,onChangeText:o,disabled:r,placeholder:i})=>{const[l,c]=u.useState(s),m=Ve(l,500),C=g=>{c(g.currentTarget.value)};return u.useEffect(()=>{l!==s&&c(s)},[s]),u.useEffect(()=>{o==null||o(m)},[m]),n($,{children:[t&&e(L,{children:t}),n(O,{children:[e(j,{onChange:C,value:l,disabled:r,placeholder:i}),e(Y,{pointerEvents:"none",children:e(V,{color:"gray.300"})})]})]})}),Ge=t=>t.cities.searchCities,We="_searchButton_ocpca_1",Je="_container_ocpca_7",x={searchButton:We,container:Je},Ke=()=>{const t=a(Ge),o=a(T)==="loading",r=S(),i=c=>{c.trim()!==""&&r(Te(c))},l=c=>{r(_e(c.target.innerText)),r(ve({cities:[]}))};return n("div",{style:{position:"relative",width:"100%"},children:[e(qe,{searchValue:"",onChangeText:i,disabled:o,placeholder:"Enter city..."}),t&&e(h,{className:x.container,children:t.map(c=>e(w,{colorScheme:"blue",onClick:l,className:x.searchButton,children:`${c.name}, ${c.countryCode}`},c.latitude))})]})},Qe=()=>{const{colorMode:t,toggleColorMode:s}=M();return n("div",{className:f.header,children:[e(Ke,{}),e(q,{height:"40px",children:e(b,{orientation:"vertical"})}),e(G,{hasArrow:!0,label:"Change color mode",children:e(W,{"aria-label":"Set theme",variant:"outline",onClick:s,icon:t==="dark"?e(J,{color:"gray.300"}):e(K,{color:"gray.500"})})})]})},Ue=()=>{const t=H(),s=a(Ie),o=a(xe),r=a(ke),i=a(Me),l=a(Ne),c=a(be),m=a(He),C=a(Ae),g=a(R),P=()=>{t(D.DETAILS+`/${g}`)};return n("div",{className:f.weatherContainer,children:[e(Qe,{}),n(Q,{spacing:3,className:f.stack,children:[e(Ye,{}),e(w,{onClick:P,children:" Show hourly forecast "}),e(b,{}),e(z,{sunset:i,sunrise:r,maxTemp:s,minTemp:o,pressure:l,visibility:C,windSpeed:m,humidity:c})]})]})},Xe="_container_8lm65_1",Ze="_weather_8lm65_9",k={container:Xe,weather:Ze},et=({currentDate:t,currentTime:s,temp:o,icon:r,feels_like:i,description:l})=>n(N,{children:[n(h,{alignItems:"flex-start",children:[n(d,{as:"b",children:[" ",t," "]}),n(d,{as:"b",children:[" ",s]})]}),n(h,{className:k.container,children:[n("div",{className:k.weather,children:[e("img",{src:`https://openweathermap.org/img/w/${r}.png`,alt:"weather icon"}),n(d,{as:"b",fontSize:"2xl",children:[" ",p(o)," 째C"]})]}),n("div",{children:[" ",l," "]})]}),e(h,{width:"200px",children:n(d,{children:[" Real feel: ",p(i)," 째C"]})})]}),tt=({item:t})=>{const s=v.unix(t.dt).format("HH:mm"),o=v.unix(t.dt).format("DD.MM.YYYY");return n(U,{children:[n(X,{children:[e(et,{currentDate:o,currentTime:s,icon:t.weather[0].icon,description:t.weather[0].description,temp:t.main.temp,feels_like:t.main.feels_like}),e(Z,{})]}),e(ee,{children:e(z,{maxTemp:t.main.temp_max,minTemp:t.main.temp_min,pressure:t.main.pressure,visibility:t.visibility,windSpeed:t.wind.speed,humidity:t.main.humidity})})]})},nt=()=>{const{city:t}=A(),s=H(),o=()=>{s("/")};return n(E,{className:B.header,children:[n(d,{fontSize:"4xl",children:[" Hourly forecast: ",e(d,{as:"b",children:t})]}),e(w,{leftIcon:e(te,{}),onClick:o,children:" Back "})]})},st=()=>{const{city:t}=A(),s=a(Ee),o=S();return u.useEffect(()=>{t&&o(Re(t))},[]),e("div",{className:f.weatherContainer,children:n(E,{spacing:3,className:B.stack,children:[e(nt,{}),e(ne,{defaultIndex:[0],width:"100%",allowMultiple:!0,children:s.map((r,i)=>e(tt,{item:r},i))})]})})},ot=()=>n(se,{children:[e(I,{index:!0,path:"/",element:e(Ue,{})}),e(I,{path:D.DETAILS+"/:city",element:e(st,{})})]});function at(){const t=S(),s=a(T),{message:o,notify:r}=$e();return o&&r(),u.useEffect(()=>{t(ze()),t(De())},[]),n("div",{className:"App",children:[s==="loading"&&e(oe,{size:"xs",isIndeterminate:!0}),e(ot,{}),e(ae,{autoClose:3e3})]})}const rt=re({reducer:{app:Be,weather:Pe,cities:Fe},middleware:[...ce({serializableCheck:!1})]}),ct={initialColorMode:"system",useSystemColorMode:!0},it=ie({config:ct});le.createRoot(document.getElementById("root")).render(e(de,{store:rt,children:n(ue,{children:[e(he,{initialColorMode:it.config.initialColorMode}),e(me,{children:e(at,{})})]})}));
